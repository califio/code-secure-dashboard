<div class="flex flex-col">
  <form class="flex flex-col gap-2 w-full" [formGroup]="form">
    <div class="flex flex-row gap-2 w-full items-center">
      <span class="w-24 md:w-48">Enable</span>
      <div class="w-full max-w-md">
        <p-toggleswitch [formControl]="form.controls.active!"/>
      </div>
    </div>
    <div class="flex flex-row gap-2 w-full items-center">
      <span class="w-24 md:w-48">Webhook</span>
      <div class="w-full max-w-md">
        <input pInputText class="w-full" [formControl]="form.controls.webhook!">
      </div>
    </div>
    <div class="flex flex-row gap-2 w-full">
      <span class="w-24 md:w-48">Event</span>
      <div class="flex flex-col gap-1">
        <div class="flex flex-row gap-2 items-center">
          <p-toggleswitch [formControl]="form.controls.scanCompletedEvent!"/>
          <label>Scan Completed</label>
        </div>
        <div class="flex flex-row gap-2 items-center">
          <p-toggleswitch [formControl]="form.controls.scanFailedEvent!"/>
          <label>Scan Failed</label>
        </div>
        <div class="flex flex-row gap-2 items-center">
          <p-toggleswitch [formControl]="form.controls.securityAlertEvent!"/>
          <label>Security Alert</label>
        </div>
        <div class="flex flex-row gap-2 items-center">
          <p-toggleswitch [formControl]="form.controls.newFindingEvent!"/>
          <label>New Finding</label>
        </div>
        <div class="flex flex-row gap-2 items-center">
          <p-toggleswitch [formControl]="form.controls.fixedFindingEvent!"/>
          <label>Fixed Finding</label>
        </div>
      </div>
    </div>
  </form>
  <div class="flex flex-row gap-2 items-center">
    <button pButton severity="primary"
            [loading]="form.disabled"
            [disabled]="form.disabled"
            (click)="saveConfig()">Update
    </button>
    <button pButton severity="secondary"
            [loading]="loadingTest"
            [disabled]="loadingTest"
            (click)="testAlert()">Test Alert
    </button>
  </div>
</div>
