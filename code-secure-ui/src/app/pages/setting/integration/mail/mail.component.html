<div class="flex flex-col rounded-xl bg-background gap-4 w-full">
  <div class="flex flex-col gap-2 w-full">
    <div class="flex flex-row gap-2 w-full items-center">
      <span class="w-36 md:w-48">Enable</span>
      <div class="w-full max-w-md">
        <input type="checkbox" [formControl]="form.controls.active!">
      </div>
    </div>
    <div class="flex flex-row gap-2 w-full items-center">
      <span class="w-36 md:w-48">Receiver</span>
      <div class="flex flex-col gap-1">
        @for (email of receiver; track $index){
          <div class="w-full max-w-md flex flex-row items-center gap-2">
            <input type="email" class="w-full"  [(ngModel)]="receiver[$index]" placeholder="Email address">
            <ng-icon name="trash" class="cursor-pointer" (click)="deleteReceiver(receiver[$index])"></ng-icon>
          </div>
        }
        <button app-button type="default" class="w-fit" (click)="addEmail()">Add another</button>
      </div>
    </div>
    <div class="flex flex-row gap-2 w-full">
      <span class="w-36 md:w-48">Event</span>
      <div class="flex flex-col gap-1">
        <div class="flex flex-row gap-2 items-center">
          <input type="checkbox" [formControl]="form.controls.scanCompletedEvent!">
          <label>Scan Completed</label>
        </div>
        <div class="flex flex-row gap-2 items-center">
          <input type="checkbox" [formControl]="form.controls.scanFailedEvent!">
          <label>Scan Failed</label>
        </div>
        <div class="flex flex-row gap-2 items-center">
          <input type="checkbox" [formControl]="form.controls.securityAlertEvent!">
          <label>Security Alert</label>
        </div>
        <div class="flex flex-row gap-2 items-center">
          <input type="checkbox" [formControl]="form.controls.newFindingEvent!">
          <label>New Finding</label>
        </div>
        <div class="flex flex-row gap-2 items-center">
          <input type="checkbox" [formControl]="form.controls.fixedFindingEvent!">
          <label>Fixed Finding</label>
        </div>
      </div>
    </div>
  </div>
  <div class="flex flex-row gap-2 items-center">
    <button app-button type="primary" class="w-fit"
            [loading]="form.disabled"
            [disabled]="form.disabled"
            (click)="saveConfig()">Update</button>
  </div>
</div>
