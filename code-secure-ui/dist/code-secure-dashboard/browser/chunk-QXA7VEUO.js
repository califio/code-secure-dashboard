import{a as R}from"./chunk-32FVIJUL.js";import{b as z,d as G,i as q,q as H}from"./chunk-5ASYMZAG.js";import{e as W}from"./chunk-FHVUNOKG.js";import{i as $,j as B,k as P}from"./chunk-3OH2LOAZ.js";import{Hb as S,Ib as m,Jb as V,Kb as O,Mb as N,Nb as j,Ob as A,Qb as L,Sa as r,Sb as C,Xb as D,Za as w,ba as k,db as d,fb as p,hb as F,kb as s,la as f,lb as v,ma as g,nb as y,ob as b,pb as a,qb as c,rb as x,sb as T,ta as E,tb as h,wb as _,xb as o,yb as I,zb as M}from"./chunk-LUMD5QXA.js";var K=[[["","dropdown-label",""]]],Q=["[dropdown-label]"],U=t=>({"pr-2 border-r border-border":t}),J=t=>({$implicit:t}),X=t=>({"bg-gray-100 dark:bg-gray-800":t});function Y(t,l){t&1&&m(0,"Select")}function Z(t,l){t&1&&x(0,"ng-icon",13)}function ee(t,l){if(t&1&&(a(0,"div",3),M(1,0,null,Y,1,0),d(3,Z,1,0,"ng-icon",13),c()),t&2){let e=o();p("ngClass",C(2,U,e.selectedOptions().length>0)),r(3),s(e.selectedOptions().length==0&&!e.loading?3:-1)}}function te(t,l){if(t&1&&T(0,15),t&2){let e=o().$implicit,i=o(3);p("ngTemplateOutlet",i.optionTemplate)("ngTemplateOutletContext",C(2,J,e))}}function ne(t,l){if(t&1&&(a(0,"div",16),m(1),c()),t&2){let e=o().$implicit,i=o(3);p("ngClass",C(2,X,i.mode!="default")),r(),O(" ",e.label," ")}}function ie(t,l){if(t&1&&d(0,te,1,4,"ng-container",14)(1,ne,2,4,"ng-template",null,0,D),t&2){let e=S(2),i=o(3);p("ngIf",i.optionTemplate)("ngIfElse",e)}}function oe(t,l){if(t&1&&y(0,ie,3,2,null,null,v),t&2){let e=o(2);b(e.selectedOptions())}}function le(t,l){if(t&1&&(a(0,"span"),m(1),c()),t&2){let e=o(2);r(),O("",e.selectedOptions().length," selected")}}function re(t,l){if(t&1&&(a(0,"div",4),d(1,oe,2,0)(2,le,2,1,"span"),c()),t&2){let e=o();r(),s(e.selectedOptions().length<=e.showMaxOption?1:2)}}function ae(t,l){t&1&&x(0,"ng-icon",5)}function ce(t,l){t&1&&x(0,"ng-icon",6)}function se(t,l){if(t&1){let e=h();a(0,"div",8),x(1,"ng-icon",17),a(2,"input",18),A("ngModelChange",function(n){f(e);let u=o();return j(u.search,n)||(u.search=n),g(n)}),_("keydown.enter",function(){f(e);let n=o();return g(n.onSearch())}),c()()}if(t&2){let e=o();r(2),N("ngModel",e.search)}}function de(t,l){if(t&1&&T(0,15),t&2){let e=o().$implicit,i=o();p("ngTemplateOutlet",i.optionTemplate)("ngTemplateOutletContext",C(2,J,e))}}function pe(t,l){if(t&1&&(a(0,"span"),m(1),c()),t&2){let e=o().$implicit;r(),V(e.label)}}function me(t,l){t&1&&x(0,"ng-icon",20)}function _e(t,l){if(t&1){let e=h();a(0,"div",19),_("click",function(){let n=f(e).$implicit,u=o();return g(u.onClick(n))}),d(1,de,1,4,"ng-container",14)(2,pe,2,1,"ng-template",null,0,D)(4,me,1,0,"ng-icon",20),c()}if(t&2){let e=l.$implicit,i=S(3),n=o();p("ngClass",n.isSelected(e.value)?"bg-gray-100 dark:bg-gray-900/70":""),r(),p("ngIf",n.optionTemplate)("ngIfElse",i),r(3),s(n.isSelected(e.value)?4:-1)}}function ue(t,l){t&1&&(a(0,"div",11),m(1,"No Data"),c())}function fe(t,l){if(t&1){let e=h();a(0,"div",12)(1,"div",21),_("click",function(){f(e);let n=o();return g(n.clearSelect())}),m(2," Clear "),c(),a(3,"div",21),_("click",function(){f(e);let n=o();return g(n.selectChange())}),m(4," Ok "),c()()}}var ke=(()=>{class t{showMaxOption=2;optionTemplate;showLabel=!0;showSearch=!0;mode="default";loading=!1;set options(e){this._options=e,this.filterOptions.set(e),this._options.length<5&&(this.showSearch=!1),this._selected&&(this.selected=this._selected)}get options(){return this._options}set selected(e){if(e){if(this._selected=e,this.mSelected.clear(),Array.isArray(e))this.options.filter(i=>e.findIndex(n=>n==i.value)>=0).forEach(i=>{this.mSelected.set(i.value,i)});else{let i=this.options.find(n=>n.value==e);i&&this.mSelected.set(i.value,i)}this.selectedOptions.set(Array.from(this.mSelected.values()))}}_selected=null;selectedChange=new E;hidden=!0;search="";filterOptions=w([]);_options=[];selectedOptions=w([]);mSelected=new Map;constructor(){}ngOnInit(){}ngOnDestroy(){}isSelected(e){return this.mSelected.has(e)}onClick(e){this.mode=="multiple"?this.mSelected.has(e.value)?this.mSelected.delete(e.value):this.mSelected.set(e.value,e):(this.mSelected.clear(),this.mSelected.set(e.value,e),this.hidden=!0,this.selectedChange.emit(e.value)),this.selectedOptions.set(Array.from(this.mSelected.values()))}selectChange(){this.hidden=!0,this.selectedChange.emit(Array.from(this.mSelected.values()).map(e=>e.value))}onSearch(){if(this.search){let e=this.options.filter(i=>i.label.includes(this.search));this.filterOptions.set(e)}else this.filterOptions.set(this.options)}clearSelect(){this.mSelected.clear(),this.selectedOptions.set([])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=k({type:t,selectors:[["dropdown"]],inputs:{showMaxOption:"showMaxOption",optionTemplate:"optionTemplate",showLabel:"showLabel",showSearch:"showSearch",mode:"mode",loading:"loading",options:"options",selected:"selected"},outputs:{selectedChange:"selectedChange"},standalone:!0,features:[L],ngContentSelectors:Q,decls:13,vars:9,consts:[["defaultOptionTemplate",""],[1,"flex","flex-col","w-fit",3,"clickOutside"],[1,"flex","flex-row","items-center","gap-2","rounded","border","border-border","px-3","w-fit","text-nowrap","cursor-pointer",3,"click"],[1,"flex","flex-row","items-center","gap-2","my-2",3,"ngClass"],[1,"flex","flex-row","items-center","gap-1","text-sm"],["name","heroChevronDown",1,"my-2"],["name","spin",1,"animate-spin","my-2"],[1,"z-10","absolute","mt-10","rounded","shadow","w-fit","border","border-border","bg-background"],[1,"flex","flex-row","w-full","border-b","border-border","items-center","px-2"],[1,"py-2","flex","flex-col","gap-1","max-h-60","overflow-y-auto"],[1,"flex","flex-row","items-center","justify-between","gap-3","hover:bg-gray-100","dark:hover:bg-gray-900/70","mx-1","rounded","cursor-pointer","px-2","py-1","bg-background","placeholder-muted-foreground",3,"ngClass"],[1,"mx-1","px-2","py-1"],[1,"flex","flex-row","justify-between","items-center","border-t","border-border","w-full","text-center","py-1","cursor-pointer"],["name","heroChevronDown"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"rounded","px-1.5","py-0.5",3,"ngClass"],["name","heroMagnifyingGlass"],["type","text",1,"w-full","border-none","focus:ring-0",3,"ngModelChange","keydown.enter","ngModel"],[1,"flex","flex-row","items-center","justify-between","gap-3","hover:bg-gray-100","dark:hover:bg-gray-900/70","mx-1","rounded","cursor-pointer","px-2","py-1","bg-background","placeholder-muted-foreground",3,"click","ngClass"],["name","heroCheck"],[1,"w-1/2",3,"click"]],template:function(i,n){i&1&&(I(K),a(0,"div",1),_("clickOutside",function(){return n.hidden=!0}),a(1,"button",2),_("click",function(){return n.hidden=!n.hidden}),d(2,ee,4,4,"div",3)(3,re,3,1,"div",4)(4,ae,1,0,"ng-icon",5)(5,ce,1,0,"ng-icon",6),c(),a(6,"div",7),d(7,se,3,1,"div",8),a(8,"ul",9),y(9,_e,5,4,"div",10,v,!1,ue,2,0,"div",11),c(),d(12,fe,5,0,"div",12),c()()),i&2&&(r(2),s(n.showLabel||n.selectedOptions().length==0?2:-1),r(),s(n.selectedOptions().length>0?3:-1),r(),s(!n.showLabel&&n.selectedOptions().length>0&&!n.loading?4:-1),r(),s(n.loading?5:-1),r(),F("hidden",n.hidden),r(),s(n.showSearch?7:-1),r(2),b(n.filterOptions()),r(3),s(n.mode=="multiple"?12:-1))},dependencies:[W,$,R,H,z,G,q,P,B],encapsulation:2})}return t})();export{ke as a};
