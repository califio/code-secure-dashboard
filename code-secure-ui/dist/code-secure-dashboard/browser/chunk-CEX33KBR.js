import{i as C}from"./chunk-3OH2LOAZ.js";import{Ib as w,Kb as y,Qb as T,Sa as h,Ta as r,Tb as R,Va as m,ac as M,ba as p,da as l,fb as d,gb as f,hb as u,pb as b,qb as g,ra as a,wb as v,ya as c}from"./chunk-LUMD5QXA.js";var O=(n,D)=>[n,D],_=(()=>{class n{position="above";theme="light";tooltip="";left=0;top=0;visible=!1;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-tooltip"]],standalone:!0,features:[T],decls:2,vars:11,consts:[[1,"tooltip","text-nowrap",3,"ngClass"]],template:function(e,t){e&1&&(b(0,"div",0),w(1),g()),e&2&&(f("left",t.left+"px")("top",t.top+"px"),u("tooltip--visible",t.visible),d("ngClass",R(8,O,"tooltip--"+t.position,"tooltip--"+t.theme)),h(),y(" ",t.tooltip,`
`))},dependencies:[C],styles:['.tooltip[_ngcontent-%COMP%]{border-radius:.25rem;padding:.25rem .5rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));position:fixed;opacity:0}.tooltip[_ngcontent-%COMP%]:before{content:"";width:0;height:0;position:absolute}.tooltip--visible[_ngcontent-%COMP%]{opacity:1;transition:opacity .3s}.tooltip--light[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.tooltip--light[_ngcontent-%COMP%]:before{border-width:5px;--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}.tooltip--dark[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.tooltip--dark[_ngcontent-%COMP%]:before{border-width:5px;--tw-border-opacity: 1;border-color:rgb(17 24 39 / var(--tw-border-opacity))}.tooltip--below[_ngcontent-%COMP%]{transform:translate(-50%);margin-top:7px}.tooltip--below[_ngcontent-%COMP%]:before{border-left-color:transparent;border-right-color:transparent;border-top:none;left:calc(50% - 5px);top:-5px}.tooltip--above[_ngcontent-%COMP%]{transform:translate(-50%,-100%);margin-bottom:7px}.tooltip--above[_ngcontent-%COMP%]:before{border-left-color:transparent;border-right-color:transparent;border-bottom:none;left:calc(50% - 5px);bottom:-5px}.tooltip--left[_ngcontent-%COMP%]{transform:translate(calc(-100% - 7px),-50%)}.tooltip--left[_ngcontent-%COMP%]:before{border-top-color:transparent;border-bottom-color:transparent;border-right:none;right:-5px;top:calc(50% - 5px)}.tooltip--right[_ngcontent-%COMP%]{transform:translateY(-50%);margin-left:7px}.tooltip--right[_ngcontent-%COMP%]:before{border-top-color:transparent;border-bottom-color:transparent;border-left:none;left:-5px;top:calc(50% - 5px)}.tooltip--dynamic[_ngcontent-%COMP%]{margin-left:20px}.tooltip--dynamic[_ngcontent-%COMP%]:before{display:none}']})}return n})();var I=(()=>{class n{elementRef;appRef;componentFactoryResolver;injector;tooltip="";position="above";theme="light";showDelay=0;hideDelay=0;componentRef=null;showTimeout;hideTimeout;touchTimeout;constructor(o,e,t,i){this.elementRef=o,this.appRef=e,this.componentFactoryResolver=t,this.injector=i}onMouseEnter(){this.initializeTooltip()}onMouseLeave(){this.setHideTooltipTimeout()}onMouseMove(o){this.componentRef!==null&&this.position==="dynamic"&&(this.componentRef.instance.left=o.clientX,this.componentRef.instance.top=o.clientY,this.componentRef.instance.tooltip=this.tooltip)}onTouchStart(o){o.preventDefault(),window.clearTimeout(this.touchTimeout),this.touchTimeout=window.setTimeout(this.initializeTooltip.bind(this),500)}onTouchEnd(){window.clearTimeout(this.touchTimeout),this.setHideTooltipTimeout()}initializeTooltip(){if(this.componentRef===null){window.clearInterval(this.hideDelay);let o=this.componentFactoryResolver.resolveComponentFactory(_);this.componentRef=o.create(this.injector),this.appRef.attachView(this.componentRef.hostView);let[e]=this.componentRef.hostView.rootNodes;this.setTooltipComponentProperties(),document.body.appendChild(e),this.showTimeout=window.setTimeout(this.showTooltip.bind(this),this.showDelay)}}setTooltipComponentProperties(){if(this.componentRef!==null){this.componentRef.instance.tooltip=this.tooltip,this.componentRef.instance.position=this.position,this.componentRef.instance.theme=this.theme;let{left:o,right:e,top:t,bottom:i}=this.elementRef.nativeElement.getBoundingClientRect();switch(this.position){case"below":{this.componentRef.instance.left=Math.round((e-o)/2+o),this.componentRef.instance.top=Math.round(i);break}case"above":{this.componentRef.instance.left=Math.round((e-o)/2+o),this.componentRef.instance.top=Math.round(t);break}case"right":{this.componentRef.instance.left=Math.round(e),this.componentRef.instance.top=Math.round(t+(i-t)/2);break}case"left":{this.componentRef.instance.left=Math.round(o),this.componentRef.instance.top=Math.round(t+(i-t)/2);break}default:break}}}showTooltip(){this.componentRef!==null&&(this.componentRef.instance.visible=!0)}setHideTooltipTimeout(){this.hideTimeout=window.setTimeout(this.destroy.bind(this),this.hideDelay)}ngOnDestroy(){this.destroy()}destroy(){this.componentRef!==null&&(window.clearInterval(this.showTimeout),window.clearInterval(this.hideDelay),this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.componentRef=null)}static \u0275fac=function(e){return new(e||n)(r(c),r(M),r(m),r(a))};static \u0275dir=l({type:n,selectors:[["","tooltip",""]],hostBindings:function(e,t){e&1&&v("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})("mousemove",function(s){return t.onMouseMove(s)})("touchstart",function(s){return t.onTouchStart(s)})("touchend",function(){return t.onTouchEnd()})},inputs:{tooltip:"tooltip",position:"position",theme:"theme",showDelay:"showDelay",hideDelay:"hideDelay"},standalone:!0})}return n})();export{I as a};
