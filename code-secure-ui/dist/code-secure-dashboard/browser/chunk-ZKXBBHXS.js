import{a as f,b as l,c as D}from"./chunk-23W66GLT.js";import"./chunk-PJ57YFKH.js";import"./chunk-7JDTD5PV.js";import{da as I}from"./chunk-G46RF4U2.js";import{a as O}from"./chunk-YHE4N465.js";import{a as _}from"./chunk-QXA7VEUO.js";import{m as d}from"./chunk-ZSGDYSVW.js";import"./chunk-7ICDGKY7.js";import{a as j}from"./chunk-ENGL65RD.js";import{a as T}from"./chunk-W4N5Z7QK.js";import"./chunk-32FVIJUL.js";import"./chunk-UHSV32VQ.js";import{b as C,d as w,k as F,l as b,n as y,q as E,r as M}from"./chunk-5ASYMZAG.js";import{b as x}from"./chunk-PHZ4YKFG.js";import"./chunk-T2ZIFUV5.js";import"./chunk-KENT5INO.js";import"./chunk-FHVUNOKG.js";import"./chunk-3OH2LOAZ.js";import{Ib as i,Qb as v,Sa as r,Ta as p,ba as g,fb as n,pb as e,qb as t,rb as m,wb as u}from"./chunk-LUMD5QXA.js";import"./chunk-AIZVJUQQ.js";var $=(()=>{class S{projectService;store;formService;toastr;thresholdModeOptions=[{value:d.MonitorOnly,label:"Monitor Only"},{value:d.BlockOnConfirmation,label:"Block On Confirmation"},{value:d.BlockOnDetection,label:"Block On Detection"}];sastFormConfig=new f({mode:new l(d.MonitorOnly),critical:new l(0),high:new l(0),low:new l(0),medium:new l(0)});scaFormConfig=new f({mode:new l(d.MonitorOnly),critical:new l(0),high:new l(0),low:new l(0),medium:new l(0)});sastForm;scaForm;constructor(a,s,o,c){this.projectService=a,this.store=s,this.formService=o,this.toastr=c,this.sastForm=this.formService.group(this.sastFormConfig),this.scaForm=this.formService.group(this.scaFormConfig)}ngOnInit(){this.projectService.getProjectSetting({projectId:this.store.projectId()}).subscribe(a=>{this.sastForm.patchValue(a.sastSetting),this.scaForm.patchValue(a.scaSetting)})}updateSastSetting(){this.projectService.updateSastSettingProject({projectId:this.store.projectId(),body:this.sastForm.getRawValue()}).subscribe(()=>{this.toastr.success("Update success!")})}updateScaSetting(){this.projectService.updateScaSettingProject({projectId:this.store.projectId(),body:this.scaForm.getRawValue()}).subscribe(()=>{this.toastr.success("Update success!")})}changeSastMode(a){this.sastForm.controls.mode.setValue(a)}changeScaMode(a){this.scaForm.controls.mode.setValue(a)}static \u0275fac=function(s){return new(s||S)(p(T),p(O),p(D),p(I))};static \u0275cmp=g({type:S,selectors:[["app-security-threshold"]],standalone:!0,features:[v],decls:69,vars:14,consts:[[1,"mx-auto","flex","flex-col","text-sm"],[1,"font-semibold","text-foreground","mb-2","ml-1","text-xl"],[1,"flex","flex-col","rounded-xl","border","border-border","bg-background","gap-4","p-4"],[1,"flex","flex-wrap","gap-8","w-full"],[1,"flex","flex-col","gap-2"],[1,"text-xl"],[1,"flex","flex-col","gap-1"],[1,"border-none","w-fit"],[1,"uppercase"],[1,"px-4"],[3,"selectedChange","options","selected","showLabel"],["type","number","min","0",1,"max-w-20",3,"formControl"],["app-button","","type","primary",1,"w-fit",3,"click"]],template:function(s,o){s&1&&(e(0,"div",0)(1,"div",1),i(2,"Security Threshold"),t(),e(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),i(7,"Static Application Security Testing (SAST)"),t(),e(8,"div",6)(9,"table",7)(10,"tr")(11,"td",8),i(12,"MODE"),t(),e(13,"td",9)(14,"dropdown",10),u("selectedChange",function(h){return o.changeSastMode(h)}),t()()(),e(15,"tr")(16,"td",8),i(17,"Critical"),t(),e(18,"td",9),m(19,"input",11),t()(),e(20,"tr")(21,"td",8),i(22,"High"),t(),e(23,"td",9),m(24,"input",11),t()(),e(25,"tr")(26,"td",8),i(27,"MEDIUM"),t(),e(28,"td",9),m(29,"input",11),t()(),e(30,"tr")(31,"td",8),i(32,"LOW"),t(),e(33,"td",9),m(34,"input",11),t()()()(),e(35,"button",12),u("click",function(){return o.updateSastSetting()}),i(36,"Update"),t()(),e(37,"div",4)(38,"div",5),i(39,"Software Composition Analysis (SCA)"),t(),e(40,"div",6)(41,"table",7)(42,"tr")(43,"td",8),i(44,"MODE"),t(),e(45,"td",9)(46,"dropdown",10),u("selectedChange",function(h){return o.changeScaMode(h)}),t()()(),e(47,"tr")(48,"td",8),i(49,"Critical"),t(),e(50,"td",9),m(51,"input",11),t()(),e(52,"tr")(53,"td",8),i(54,"High"),t(),e(55,"td",9),m(56,"input",11),t()(),e(57,"tr")(58,"td",8),i(59,"MEDIUM"),t(),e(60,"td",9),m(61,"input",11),t()(),e(62,"tr")(63,"td",8),i(64,"LOW"),t(),e(65,"td",9),m(66,"input",11),t()()()(),e(67,"button",12),u("click",function(){return o.updateScaSetting()}),i(68,"Update"),t()()()()()),s&2&&(r(14),n("options",o.thresholdModeOptions)("selected",o.sastForm.controls.mode.value)("showLabel",!1),r(5),n("formControl",o.sastForm.controls.critical),r(5),n("formControl",o.sastForm.controls.high),r(5),n("formControl",o.sastForm.controls.medium),r(5),n("formControl",o.sastForm.controls.low),r(12),n("options",o.thresholdModeOptions)("selected",o.scaForm.controls.mode.value)("showLabel",!1),r(5),n("formControl",o.scaForm.controls.critical),r(5),n("formControl",o.scaForm.controls.high),r(5),n("formControl",o.scaForm.controls.medium),r(5),n("formControl",o.scaForm.controls.low))},dependencies:[j,M,C,F,w,y,b,x,_,E]})}return S})();export{$ as SecurityThresholdComponent};
